<html>

<head>
  <title>COWAROBOT AutoPilot</title>
  <style>
    .content{
      display: -webkit-flex;
      display: flex;
    }
    .leftContent{
      -webkit-flex:1;
      flex: 1;
    }
     .leftContent>img{
      display: block;
      border: 1px solid gray;
    }
    .rightContent{
      -webkit-flex:1;
      flex: 1;
    }
    .rightContent>img{
      width: 100%;
      display: block;
      height: 340px;
      border: 1px solid gray;
    }
  </style>
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdn.bootcss.com/socket.io/1.5.1/socket.io.min.js"></script>
</head>

<body>
  <div class="content">
    <div class="leftContent">
         <canvas id="map" style="background-image: url(../static/map.png);width: 100%; height: 684px;"></canvas>
         <script type="text/javascript" charset="utf-8">
            var c=document.getElementById("map");
            var cxt=c.getContext("2d");
            var x=40;
            var y=18;
            var socket = io.connect();

            socket.on('connect', function() {
                socket.emit('connect_event', {data: 'connected!'});
            })

            socket.on('server_response', function(msg) {
                cxt.fillStyle="#AFEEEE";
                cxt.beginPath();
                cxt.arc(msg.pos[0],msg.pos[1],3,0,Math.PI*2,true);
                cxt.closePath();
                cxt.fill();
                console.log(msg)
            });
        </script>
    </div>

    <div class="rightContent">
      <img src="{{ url_for('video_feed1') }}">
      <img src="{{ url_for('video_feed2') }}">
    </div>
  </div>
</body>

</html>